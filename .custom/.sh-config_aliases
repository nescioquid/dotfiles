# SH-CONFIG_ALIASES

# opens the stuff
alias vscsh-config='code -n ~/builds/sh-config/'
alias sh-config_aliases='${EDITOR} ~/.custom/.sh-config_aliases'
alias vscsh-config_aliases='code ~/.custom/.sh-config_aliases'

# gets you to the stuff
alias sh-config='cd ~/builds/sh-config/'

# ---

alias backupconfig='_sh-config_push'
alias retrieveconfig='_sh-config_pull'

# installs configurations
function installconfig() {
  _sh-config_pull_copy
  if [[ -n "$BASH_VERSION" ]]; then
    source ~/.bashrc
  elif [[ -n "$ZSH_VERSION" ]]; then
    source ~/.zshrc
  else
    echo "Unknown shell, no run commands sourced"
  fi
  _sh-config_youdidthething
  cd ~
}

# undoes backupconfig from anywhere
function lastconfig() {
  cd ~/builds/sh-config
  echo whoosh! heading over to:
  echo ~/builds/sh-config
  echo starting to do git things:
  git reset HEAD~1
  git push -f
  echo done doing git things,
  echo and now heading back to:
  cd -
}

# pushes configurations to github
function _sh-config_push() {
  cd ~/builds/sh-config
  echo whoosh! heading over to:
  echo ~/builds/sh-config
  _sh-config_push_copy
  echo starting to do git things:
  git add -v --all
  git commit -v --message "updated on $(date +"%d %B %Y at %T")"
  git push
  echo configurations pushed, congrats!
  echo done doing git things,
  echo and now heading back to:
  cd -
}

# pulls configurations from github
function _sh-config_pull() {
  cd ~/builds/sh-config
  echo whoosh! heading over to:
  echo ~/builds/sh-config
  echo starting to do git things:
  git pull
  echo done doing git things
  _sh-config_pull_copy
  echo configurations pulled, congrats!
  echo and now heading back to:
  cd -
}

# copies home and ~/.custom configurations to sh-config
function _sh-config_push_copy() {
  cp -fr ~/.custom/      ~/builds/sh-config/
  cp -f  ~/.bash_history ~/builds/sh-config/
  cp -f  ~/.bashrc       ~/builds/sh-config/
  cp -f  ~/.gitconfig    ~/builds/sh-config/
  cp -f  ~/.z            ~/builds/sh-config/
  cp -f  ~/.zsh_history  ~/builds/sh-config/
  cp -f  ~/.zshrc        ~/builds/sh-config/
  echo configurations copied for push, hooray!
}

# copies sh-config configurations to home and ~/.custom
function _sh-config_pull_copy() {
  cp -fr ~/builds/sh-config/.custom/      ~
  cp -f  ~/builds/sh-config/.bash_history ~
  cp -f  ~/builds/sh-config/.bashrc       ~
  cp -f  ~/builds/sh-config/.gitconfig    ~
  cp -f  ~/builds/sh-config/.z            ~
  cp -f  ~/builds/sh-config/.zsh_history  ~
  cp -f  ~/builds/sh-config/.zshrc        ~
  echo configurations copied for pull, hooray!
}

# https://texteditor.com/multiline-text-art/ ("Blocks in two lines - filled" was the font I used)
function _sh-config_youdidthething() {
  echo ░▀▄▀░▄▀▄░█▒█░░░█▀▄░█░█▀▄░░░▀█▀░█▄█▒██▀░░░▀█▀░█▄█░█░█▄░█░▄▀▒░█
  echo ░▒█▒░▀▄▀░▀▄█▒░▒█▄▀░█▒█▄▀▒░░▒█▒▒█▒█░█▄▄▒░░▒█▒▒█▒█░█░█▒▀█░▀▄█░▄
}
